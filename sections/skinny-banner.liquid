{%- assign text_position = section.settings.text_position | split: ' ' -%}

{% if section.settings.title != blank %}
  {% assign title = section.settings.title %}
{% elsif template contains 'blog' %}
  {% assign title = blog.title %}
{% elsif template contains 'article' %}
  {% assign title = article.title %}
{% elsif template contains 'collection' %}
  {% assign title = collection.title %}
{% endif %}

{% capture banner_text %}
  {% if section.settings.link != blank and section.settings.button_label == blank %}
    <a class="full-link" href="{{ section.settings.link }}">
      {{ section.settings.link }}
    </a>
  {% endif %}

  

  
{% endcapture %}
<section
  class="
    section
    is-width-wide
    has-no-side-gutter
  "
>
  
	<a id="sale-banner-large-desktop" class="sale-banner-image" href="{{ section.settings.link }}" {% if section.settings.link_new_tab %}target="_blank"{% endif %}>
<picture>
  <source media="(min-width:750px)" data-srcset="{{ section.settings.image_large_desktop | img_url: '1800x' }}">
  <img width="2560" height="142" class="nolazy lazy2 lazyload lazyload--fade-in" loading="lazy" style="width: 100%"
       alt="{{ section.settings.image_large_desktop.alt | escape }}"/>
</picture>
	</a>

    <a id="sale-banner-desktop" class="sale-banner-image" href="{{ section.settings.link }}" {% if section.settings.link_new_tab %}target="_blank"{% endif %}>
<picture>
  <source media="(min-width:750px)" data-srcset="{{ section.settings.image_desktop | img_url: '1800x' }}">
  <img width="1500" height="140" class="nolazy lazy2 lazyload lazyload--fade-in" loading="lazy" style="width: 100%"
       alt="{{ section.settings.image_desktop.alt | escape }}"/>
</picture>
	</a>

    <a id="sale-banner-mobile" class="sale-banner-image" href="{{ section.settings.link }}" {% if section.settings.link_new_tab %}target="_blank"{% endif %}>
<picture>
  <source media="(max-width:750px)" data-srcset="{{ section.settings.image_mobile | img_url: '900x' }}">
  <img width="536" height="180" class="nolazy lazy2 lazyload lazyload--fade-in" loading="lazy" style="width: 100%"
       alt="{{ section.settings.image_mobile.alt | escape }}"/>
</picture>
	</a>
  
</section>

<style>
 @media only screen and (max-width: 798px) {
   
      #banner-{{ section.id }} .banner__wrap,
      #banner-{{ section.id }} .parallax__wrap {
        height: auto;
      }
  }
  #sale-banner-large-desktop, #sale-banner-desktop, #sale-banner-large-tablet, #sale-banner-tablet, #sale-banner-mobile {
      width: 100%;
      display: none;
      position: relative;
  }
  @media (min-width: 1800px) {
      #sale-banner-large-desktop {
         display: block;
         margin-top: -15px;
   	  }
      #sale-banner-desktop, #sale-banner-large-tablet, #sale-banner-tablet, #sale-banner-mobile {
        display: none;
      }
  }
  @media (min-width: 525px) and (max-width: 1799px) {
      #sale-banner-desktop {
          display: block;
          margin-top: -15px;
      }
  }
  @media (max-width: 768px) and (min-width: 525px) {
  	  #sale-banner-large-desktop, #sale-banner-large-tablet, #sale-banner-tablet, #sale-banner-mobile {
          display: none;
      }
      #sale-banner-desktop {
          margin-top: 0px;
      }
  }
  @media (max-width: 524px) {
  	  #sale-banner-mobile {
    	  display: block;
          margin-bottom: -7px;
	}
  }
</style>

{% schema %}
  {
    "name": "Skinny Banner",
    "class": "shopify-section--image-with-text-overlay skinny-banner",
    "settings": [
      {
        "type": "image_picker",
        "id": "image_large_desktop",
        "label": "Large Desktop Image"
      },
	 	{
        "type": "image_picker",
        "id": "image_desktop",
        "label": "Desktop Image"
      },
	  {
        "type": "image_picker",
        "id": "image_mobile",
        "label": "Mobile Image"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link"
      },
      {
        "type": "checkbox",
        "id": "link_new_tab",
        "label": "Open Link in New Tab",
        "default": false
      }
      
    ],
    "presets": [{
      "name": "Skinny Banner",
      "category": "Image"
    }],
    "templates": [
      "index",
      "product",
      "page",
      "list-collections",
      "collection",
      "blog",
      "article"
    ]
  }
{% endschema %}